import{N as w}from"./Navbar-07231e35.js";import{Q as j}from"./vue-quill.snow-515423ed.js";import{r as g,o,c as d,a as k,b as e,n as r,t as p,w as h,v as f,g as m,F as v,d as u}from"./index-1ee89a4b.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-c11b1bdc.js";const y={name:"pengajuan",components:{Navbar:w,QuillEditor:j},data(){return{file:"",filetemp:[],inovator:"",savebtn:"Save",selectedTahapan_inovasi:"--pilih--",selectedInisiator:"--pilih--",selectedJenisinovasi:"--pilih--",selectedBentukinovasi:"--pilih--",selectedInovasiCovid:"--pilih--",selectedJenisUrusan:"--pilih--",selectedTemaInovasi:"--pilih--",selectedDocs:"--pilih--",jenis_docs:[{name:"surat"},{name:"proposal"},{name:"foto dokumentasi"},{name:"vidio dokumentasi"},{name:"foto cover"}],nama_perangkat_daerah:[],tahapan_inovasi:[],nama_inovasi:"",inisiator:[],jenis_inovasi:[],bentuk_inovasi:[],inovasi_covid:[],jenis_urusan:[],tema:[],validasi:{val1:!1,val2:!1,val3:!1,val4:!1,val5:!1,val6:!1,val7:!1,val8:!1,val9:!1,val10:!1,val11:!1},keterangan:"",popalert:!1,messagealert:"Berhasil"}},methods:{validate(){return this.validasi.val1=!this.nama_inovasi,this.validasi.val2=!this.inovator,this.validasi.val3=!this.nama_perangkat_daerah,this.validasi.val4=this.selectedTahapan_inovasi=="--pilih--",this.validasi.val5=this.selectedInisiator=="--pilih--",this.validasi.val6=this.selectedJenisinovasi=="--pilih--",this.validasi.val7=this.selectedBentukinovasi=="--pilih--",this.validasi.val8=this.selectedInovasiCovid=="--pilih--",this.validasi.val9=this.selectedJenisUrusan=="--pilih--",this.validasi.val10=this.selectedTemaInovasi=="--pilih--",this.validasi.val11=!this.keterangan,this.validasi.val1==!1&&this.validasi.val2==!1&&this.validasi.val3==!1&&this.validasi.val4==!1&&this.validasi.val5==!1&&this.validasi.val6==!1&&this.validasi.val7==!1&&this.validasi.val8==!1&&this.validasi.val9==!1&&this.validasi.val10==!1&&this.validasi.val11==!1},async save(){try{let l=await this.validate();if(console.log(l),!l)this.popalert=!0,this.messagealert="Harap Periksa dan lengkapi data",setTimeout(()=>{this.popalert=!1,this.messagealert=""},1e4);else{let s=await{nama_inovasi:this.nama_inovasi,inovator:this.inovator,nama_perangkat_daerah:this.nama_perangkat_daerah,tahapan:this.selectedTahapan_inovasi,inisiator:this.selectedInisiator,jenis:this.selectedJenisinovasi,bentuk:this.selectedBentukinovasi,inovasi_thdp_covid:this.selectedInovasiCovid,jenis_urusan:this.selectedJenisUrusan,tema:this.selectedTemaInovasi,tanggal:new Date().getDate()+"/"+new Date().getMonth()+"/"+new Date().getFullYear(),keterangan:this.keterangan};console.log(s);let n=new FormData;n.append("nama_inovasi",s.nama_inovasi),n.append("inovator",s.inovator),n.append("nama_perangkat_daerah",s.nama_perangkat_daerah),n.append("tahapan",s.tahapan),n.append("inisiator",s.inisiator),n.append("jenis",s.jenis),n.append("bentuk",s.bentuk),n.append("inovasi_thdp_covid",s.inovasi_thdp_covid),n.append("jenis_urusan_inovasi",s.jenis_urusan),n.append("tema",s.tema),n.append("tanggal",s.tanggal),n.append("keterangan",s.keterangan);for(let c in this.filetemp)n.append("files",this.filetemp[c].data),n.append("jenisfile",this.filetemp[c].jenis_docs),n.append("namafile",this.filetemp[c].data.name);let i="https://772e-116-206-14-60.ngrok-free.app",a="/inovasi/submitdata",_="Bearer "+localStorage.getItem("token");console.log(await n),this.savebtn="Submitting...",fetch(i+a,{method:"POST",headers:{Authorization:_},body:n}).then(c=>c.json()).then(c=>{this.savebtn="Save",c.status==="OK"?(alert("Submit Berhasil"),window.location.href="/pengajuan-inovasi"):alert("submit gagal")}).catch(c=>{console.log(c),alert("submit gagal"),this.savebtn="Submit"})}}catch(l){console.log(l)}},async addFile(){let l={jenis_docs:this.selectedDocs,data:this.file};this.filetemp.push(l),console.log(this.filetemp[0].data.name)},previewFiles(l){console.log(l.target.files[0]),this.file=l.target.files[0]},gettemainovasi(){let l="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/tema",n="Bearer "+localStorage.getItem("token");fetch(l+s,{method:"GET",credentials:"include",headers:{Authorization:n,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.tema=i}).catch(i=>{})},getjenisurusan(){let l="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/jenis_urusan",n="Bearer "+localStorage.getItem("token");fetch(l+s,{method:"GET",credentials:"include",headers:{Authorization:n,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.jenis_urusan=i}).catch(i=>{})},getinovasicovid(){let l="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/inovasi_covid",n="Bearer "+localStorage.getItem("token");fetch(l+s,{method:"GET",credentials:"include",headers:{Authorization:n,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.inovasi_covid=i}).catch(i=>{})},getbentukinovasi(){let l="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/bentuk_inovasi",n="Bearer "+localStorage.getItem("token");fetch(l+s,{method:"GET",credentials:"include",headers:{Authorization:n,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.bentuk_inovasi=i}).catch(i=>{})},getjenisinovasi(){let l="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/jenis_inovasi",n="Bearer "+localStorage.getItem("token");fetch(l+s,{method:"GET",credentials:"include",headers:{Authorization:n,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.jenis_inovasi=i}).catch(i=>{})},getinisiator(){let l="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/inisiator",n="Bearer "+localStorage.getItem("token");fetch(l+s,{method:"GET",credentials:"include",headers:{Authorization:n,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.inisiator=i}).catch(i=>{})},getTahapan(){let l="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/tahapan",n="Bearer "+localStorage.getItem("token");fetch(l+s,{method:"GET",credentials:"include",headers:{Authorization:n,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{this.tahapan_inovasi=i}).catch(i=>{})}},mounted:function(){console.log(this.selectedTahapan_inovasi)},created:function(){this.getTahapan(),this.getinisiator(),this.getjenisinovasi(),this.getbentukinovasi(),this.getinovasicovid(),this.getjenisurusan(),this.gettemainovasi()}},I={class:"w-full h-screen overflow-auto bg-white"},B=e("h1",{class:"ml-10 mt-5 font-bold md:text-2xl md:border-b-2 border-b pb-3 border-black w-fit"},"Pengajuan inovasi",-1),U={class:"w-full px-10 py-10"},C={class:"w-full px-5 py-5 shadow-lg rounded-lg"},S={class:"grid md:grid-cols-4 grid-cols-1 gap-4"},A={class:"w-full"},D=e("p",{class:"mb-2"},"Nama Inovasi",-1),J={class:"w-full"},R=e("p",{class:"mb-2"},"Inovator",-1),V={class:"w-full"},E=e("p",{class:"mb-2"},"Nama Perangkat Daerah",-1),F={class:"w-full"},L=e("p",{class:"mb-2"},"Tahapan inovasi",-1),z=e("option",{value:"--pilih--"},"--pilih--",-1),N=["selected","value"],G={class:"w-full"},P=e("p",{class:"mb-2"},"Inisiator Inovasi",-1),M=e("option",{value:"--pilih--"},"--pilih--",-1),Q=["selected","value"],O={class:"w-full"},H=e("p",{class:"mb-2"},"Jenis Inovasi",-1),K=e("option",{value:"--pilih--"},"--pilih--",-1),Y=["selected","value"],q={class:"w-full"},W=e("p",{class:"mb-2"},"Bentuk Inovasi",-1),X=e("option",{value:"--pilih--"},"--pilih--",-1),Z=["selected","value"],$={class:"w-full"},ee=e("p",{class:"mb-2"},"Inovasi Terhadap Pandemi Covid19",-1),te=e("option",{value:"--pilih--"},"--pilih--",-1),se=["selected","value"],ae={class:"w-full"},ie=e("p",{class:"mb-2"},"Jenis Urusan Inovasi",-1),ne=e("option",{value:"--pilih--"},"--pilih--",-1),le=["selected","value"],oe={class:"w-full"},de=e("p",{class:"mb-2"},"Tema Inovasi",-1),re=e("option",{value:"--pilih--"},"--pilih--",-1),pe=["selected","value"],ce={class:"w-full mt-5"},he=e("p",{class:"mb-2"},"Deskripsi Inovasi",-1),ve={class:"w-full px-5 py-5 shadow-lg rounded-lg"},ue=e("p",{class:"mb-5 mt-2 border-b w-fit border-black pb-3"},"Upload Dokumentasi",-1),me=e("p",{class:"mb-5 text-sm"},"* Untuk Jenis File Proposal dan Surat adalah pdf , untuk vidio mkv/mp4, untuk gambar jpg/jpeg ",-1),_e={class:"w-[100%] grid grid-cols-1 md:grid-cols-3 gap-4"},fe=e("option",{value:"--pilih--"},"--pilih jenis dokumen--",-1),ge=["selected","value"],ke={class:"w-full flex"},be=e("p",{class:"mb-5 mt-10 border-b w-fit border-black pb-3"},"List Dokumentasi Upload",-1),xe={class:"w-full"},we={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},je=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," No "),e("th",{scope:"col",class:"px-6 py-3"}," jenis dokumen ")])],-1),Te={scope:"col",class:"px-6 py-3"},ye={scope:"col",class:"px-6 py-3"};function Ie(l,s,n,i,a,_){const c=g("Navbar"),b=g("QuillEditor");return o(),d("div",I,[k(c),B,e("div",U,[e("div",C,[e("div",{class:r([a.popalert?"":"hidden","w-full px-5 mb-5 text-white"])},[e("div",{class:r(["w-full px-5 py-3 text-white",a.messagealert=="Berhasil"?"bg-green-600":"bg-red-600"])},p(a.messagealert=="Berhasil"?"Berhasil Mengajukan Inovasi":this.messagealert),3)],2),e("div",S,[e("div",A,[D,h(e("input",{type:"text",class:"w-full","onUpdate:modelValue":s[0]||(s[0]=t=>a.nama_inovasi=t)},null,512),[[f,a.nama_inovasi]]),e("span",{class:r([a.validasi.val1?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",J,[R,h(e("input",{type:"text",class:"w-full","onUpdate:modelValue":s[1]||(s[1]=t=>a.inovator=t)},null,512),[[f,a.inovator]]),e("span",{class:r([a.validasi.val2?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",V,[E,h(e("input",{type:"text",class:"w-full","onUpdate:modelValue":s[2]||(s[2]=t=>a.nama_perangkat_daerah=t)},null,512),[[f,a.nama_perangkat_daerah]]),e("span",{class:r([a.validasi.val3?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",F,[L,h(e("select",{class:"w-full","onUpdate:modelValue":s[3]||(s[3]=t=>a.selectedTahapan_inovasi=t)},[z,(o(!0),d(v,null,u(a.tahapan_inovasi,t=>(o(),d("option",{selected:a.selectedTahapan_inovasi===t.id,value:t.nama},p(t.nama),9,N))),256))],512),[[m,a.selectedTahapan_inovasi]]),e("span",{class:r([a.validasi.val4?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",G,[P,h(e("select",{class:"w-full","onUpdate:modelValue":s[4]||(s[4]=t=>a.selectedInisiator=t)},[M,(o(!0),d(v,null,u(a.inisiator,t=>(o(),d("option",{selected:a.selectedInisiator===t.id,value:t.nama},p(t.nama),9,Q))),256))],512),[[m,a.selectedInisiator]]),e("span",{class:r([a.validasi.val5?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",O,[H,h(e("select",{class:"w-full","onUpdate:modelValue":s[5]||(s[5]=t=>a.selectedJenisinovasi=t)},[K,(o(!0),d(v,null,u(a.jenis_inovasi,t=>(o(),d("option",{selected:a.selectedJenisinovasi===t.id,value:t.nama},p(t.nama),9,Y))),256))],512),[[m,a.selectedJenisinovasi]]),e("span",{class:r([a.validasi.val6?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",q,[W,h(e("select",{class:"w-full","onUpdate:modelValue":s[6]||(s[6]=t=>a.selectedBentukinovasi=t)},[X,(o(!0),d(v,null,u(a.bentuk_inovasi,t=>(o(),d("option",{selected:a.selectedBentukinovasi===t.id,value:t.nama},p(t.nama),9,Z))),256))],512),[[m,a.selectedBentukinovasi]]),e("span",{class:r([a.validasi.val7?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",$,[ee,h(e("select",{class:"w-full","onUpdate:modelValue":s[7]||(s[7]=t=>a.selectedInovasiCovid=t)},[te,(o(!0),d(v,null,u(a.inovasi_covid,t=>(o(),d("option",{selected:a.selectedInovasiCovid===t.id,value:t.nama},p(t.nama),9,se))),256))],512),[[m,a.selectedInovasiCovid]]),e("span",{class:r([a.validasi.val8?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",ae,[ie,h(e("select",{class:"w-full","onUpdate:modelValue":s[8]||(s[8]=t=>a.selectedJenisUrusan=t)},[ne,(o(!0),d(v,null,u(a.jenis_urusan,t=>(o(),d("option",{selected:a.selectedJenisUrusan===t.id,value:t.nama},p(t.nama),9,le))),256))],512),[[m,a.selectedJenisUrusan]]),e("span",{class:r([a.validasi.val9?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)]),e("div",oe,[de,h(e("select",{class:"w-full","onUpdate:modelValue":s[9]||(s[9]=t=>a.selectedTemaInovasi=t)},[re,(o(!0),d(v,null,u(a.tema,t=>(o(),d("option",{selected:a.selectedTemaInovasi===t.id,value:t.nama},p(t.nama),9,pe))),256))],512),[[m,a.selectedTemaInovasi]]),e("span",{class:r([a.validasi.val10?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2)])]),e("div",ce,[he,e("span",{class:r([a.validasi.val11?"":"hidden","inline-flex text-sm text-red-700"])},"data tidak boleh kosong*",2),k(b,{contentType:"html",theme:"snow",content:a.keterangan,"onUpdate:content":s[10]||(s[10]=t=>a.keterangan=t)},null,8,["content"])])]),e("div",ve,[ue,me,e("div",_e,[e("input",{type:"file",class:"w-full",onChange:s[11]||(s[11]=(...t)=>_.previewFiles&&_.previewFiles(...t)),multiple:!1},null,32),h(e("select",{class:"w-ful mr-10","onUpdate:modelValue":s[12]||(s[12]=t=>a.selectedDocs=t)},[fe,(o(!0),d(v,null,u(a.jenis_docs,t=>(o(),d("option",{selected:a.selectedDocs===t.name,value:t.name},p(t.name),9,ge))),256))],512),[[m,a.selectedDocs]]),e("div",ke,[e("button",{onClick:s[13]||(s[13]=t=>_.addFile()),class:"px-3 py-2 bg-green-800 text-white rounded"},"Add"),e("button",{onClick:s[14]||(s[14]=t=>_.save()),class:"w-full ml-3 px-3 py-2 bg-slate-800 text-white rounded"},p(a.savebtn),1)])]),be,e("div",xe,[e("table",we,[je,e("tbody",null,[(o(!0),d(v,null,u(a.filetemp,(t,x)=>(o(),d("tr",null,[e("td",Te,p(x+1),1),e("td",ye,p(t.jenis_docs),1)]))),256))])])])])])])}const De=T(y,[["render",Ie]]);export{De as default};
