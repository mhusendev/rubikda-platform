import{i as v}from"./index-c11b1bdc.js";import{T as x,S as y}from"./Topbar-6a770fb2.js";import{r as _,o as r,c,a as u,b as e,w as k,v as w,n as p,t as o,F as g,d as m}from"./index-1ee89a4b.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-30c9d580.js";console.log(document.cookie);const T={name:"admininovasi",components:{Topbar:x,Sidebar:y},data(){return{toptitle:"Inovasi",baseURL:"https://772e-116-206-14-60.ngrok-free.app",tableInovasi:[],warning:!1,background:"",alertmessage:"",datamodal:[],search:""}},methods:{async Cari(){if(this.search){let n=this.tableInovasi.filter(s=>{if(s.nama_inovasi===this.search)return s.nama_inovasi===this.search;if(s.acc===this.search)return s.acc===this.search;if(s.inisiator===this.search)return s.inisiator===this.search;if(s.inovator===this.search)return s.inovator===this.search});this.tableInovasi=n}else this.getAll()},rejectInovasi(n){let s="https://772e-116-206-14-60.ngrok-free.app",l="/inovasi/reject_inovasi",i="Bearer "+localStorage.getItem("token");fetch(s+l,{method:"POST",credentials:"include",headers:{Authorization:i,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({id:n})}).then(t=>t.json()).then(t=>{console.log(t),this.warning=!0,this.background="bg-green-600 text-white ",this.alertmessage="Berhasil Reject Pengajuan",setTimeout(()=>{this.warning="false",this.alertmessage="",this.background=""},1500),this.getAll()})},accInovasi(n){let s="https://772e-116-206-14-60.ngrok-free.app",l="/inovasi/acc_inovasi",i="Bearer "+localStorage.getItem("token");fetch(s+l,{method:"POST",credentials:"include",headers:{Authorization:i,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({id:n})}).then(t=>t.json()).then(t=>{console.log(t),this.warning=!0,this.background="bg-green-600 text-white ",this.alertmessage="Berhasil Acc Pengajuan",setTimeout(()=>{this.warning="false",this.alertmessage="",this.background=""},1500),this.getAll()})},showDetail(n){this.datamodal=n,my_modal_2.showModal()},getAll(){let n="https://772e-116-206-14-60.ngrok-free.app",s="/inovasi/";""+localStorage.getItem("token"),fetch(n+s,{method:"GET",credentials:"include",headers:{"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(l=>l.json()).then(l=>{this.tableInovasi=l})}},mounted:function(){v(),this.getAll()},created:function(){let n="https://772e-116-206-14-60.ngrok-free.app",s="/users/isloggedin",l="Bearer "+localStorage.getItem("token");fetch(n+s,{method:"GET",credentials:"include",headers:{Authorization:l,"Bypass-Tunnel-Reminder":"true",Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{(i.status!==200||i.isAdmin==!1)&&this.$router.push({name:"login"}),console.log(i.status)}).catch(i=>{this.$router.push({name:"login"})})}},A={class:"flex bg-white"},C={class:"w-full"},I={class:"w-full px-[5%] py-[5%]"},B={class:"relative overflow-x-auto sm:rounded-lg"},S={class:"flex items-center justify-between"},R=e("div",null,null,-1),L=e("label",{for:"table-search",class:"sr-only"},"Search",-1),U={class:"relative"},z=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),M={class:"w-full max-h-96 mt-10 overflow-y-scroll"},P={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},D=e("thead",{class:"text-xs sticky top-0 text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"nama inovasi"),e("th",{scope:"col",class:"px-6 py-3"},"jenis"),e("th",{scope:"col",class:"px-6 py-3"},"inovator"),e("th",{scope:"col",class:"px-6 py-3"},"inisiator"),e("th",{scope:"col",class:"px-6 py-3"},"ACC"),e("th",{scope:"col",class:"px-6 py-3"},"Action")])],-1),N={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},O={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},E={class:"px-6 py-4"},F={class:"px-6 py-4"},V={class:"px-6 py-4"},G={class:"px-6 py-4"},H={class:"px-6 py-4"},J={class:"flex gap-2"},q=["onClick"],K=["onClick"],Q=["onClick"],W={id:"my_modal_2",class:"modal"},X={class:"modal-box w-11/12 max-w-5xl"},Y=e("h3",{class:"font-bold pb-2 text-center"},"Detail Pengajuan",-1),Z={class:"font-light text-xs border-b pb-2 text-center"},$={class:"w-full"},ee={class:"flex gap-4 mt-3"},te=e("p",{class:"w-[37%]"},"nama perangkat daerah",-1),se={class:"flex gap-4"},ae=e("p",{class:"w-[37%]"},"tahapan inovasi ",-1),oe={class:"flex gap-4"},ne=e("p",{class:"w-[37%]"},"bentuk inovasi ",-1),ie={class:"flex gap-4"},le=e("p",{class:"w-[37%]"},"inovasi thdp covid19 ",-1),re={class:"flex gap-4"},ce=e("p",{class:"w-[37%]"},"jenis urusan invoasi ",-1),de={class:"flex gap-4"},he=e("p",{class:"w-[37%]"},"tema ",-1),pe={class:"mt-5"},_e=e("p",{class:"w-fit border-b pb-1 pr-3"},"keterangan ",-1),ue=["innerHTML"],ge={class:"w-full h-fit overflow-y-scroll"},me={class:"w-full flex"},be=["href"],fe=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")],-1);function ve(n,s,l,i,t,d){const b=_("Sidebar"),f=_("Topbar");return r(),c("div",A,[u(b),e("div",C,[u(f,{toptitle:t.toptitle},null,8,["toptitle"]),e("div",I,[e("div",B,[e("div",S,[R,L,e("div",U,[z,k(e("input",{type:"text",id:"table-search",class:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Pencarian","onUpdate:modelValue":s[0]||(s[0]=a=>t.search=a),onChange:s[1]||(s[1]=a=>d.Cari())},null,544),[[w,t.search]])])])]),e("div",{class:p([t.warning?t.background+"block":"hidden","w-full px-5 py-2 text-center"])},o(t.alertmessage),3),e("div",M,[e("table",P,[D,e("tbody",null,[(r(!0),c(g,null,m(t.tableInovasi,a=>(r(),c("tr",N,[e("td",O,o(a.nama_inovasi),1),e("td",E,o(a.jenis),1),e("td",F,o(a.inovator),1),e("td",V,o(a.inisiator),1),e("td",G,o(a.acc),1),e("td",H,[e("div",J,[e("button",{class:"btn",onClick:h=>d.showDetail(a)},"detail",8,q),e("button",{class:p([a.acc==="sudah"?"hidden":"","btn btn-success text-white"]),onClick:h=>d.accInovasi(a.id)},"acc",10,K),e("button",{class:p([a.acc==="sudah"||a.acc==="rejected"?"hidden":"","btn bg-red-700 text-white"]),onClick:h=>d.rejectInovasi(a.id)},"reject",10,Q)])])]))),256))])])])]),e("dialog",W,[e("div",X,[Y,e("h3",Z,o(t.datamodal.tanggal),1),e("div",$,[e("div",ee,[te,e("p",null,": "+o(t.datamodal.nama_perangkat_daerah),1)]),e("div",se,[ae,e("p",null,": "+o(t.datamodal.tahapan),1)]),e("div",oe,[ne,e("p",null,": "+o(t.datamodal.bentuk),1)]),e("div",ie,[le,e("p",null,": "+o(t.datamodal.inovasi_thdp_covid),1)]),e("div",re,[ce,e("p",null,": "+o(t.datamodal.jenis_urusan_inovasi),1)]),e("div",de,[he,e("p",null,": "+o(t.datamodal.tema),1)]),e("div",pe,[_e,e("p",{innerHTML:t.datamodal.keterangan,class:"h-60 overflow-y-auto"},null,8,ue)]),e("div",ge,[e("div",me,[(r(!0),c(g,null,m(t.datamodal.docs,(a,h)=>(r(),c("a",{href:t.baseURL+"/"+a.url_dokumen,target:"_blank",class:"btn mt-2 mr-2"},o(a.jenis_docs),9,be))),256))])])])]),fe])])])}const Te=j(T,[["render",ve]]);export{Te as default};
